{"version":3,"sources":["components/common/FormsControl/FormsControl.jsx","components/common/FormsControl/FormsControl.module.css","helpers/validators.js","components/Login/Login.module.css","components/Login/Login.tsx"],"names":["FormControl","meta","children","showError","touched","error","className","style","formControl","PostFormControl","props","input","restProps","MessageFormControl","LoginInputControl","createField","placeholder","name","validators","component","type","module","exports","required","value","maxLengthCreator","maxLength","length","minLengthCreator","minLength","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","appLoginBlock","appLoginLog","validate","appLoginPassword","appLoginCheckbox","appLoginError","connect","isAuth","global","auth","loginTC","to","appLogin","email","password","rememberMe","console","log"],"mappings":"kTAKMA,EAAc,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,SACpBC,EAAYF,EAAKG,SAAWH,EAAKI,MACvC,OACE,yBAAKC,UAAWC,IAAMC,YAAc,KAAOL,GAAaI,IAAMF,QAC5D,6BACGH,GAEFC,GAAa,8BAAOF,EAAKI,SAKnBI,EAAkB,SAACC,GAAW,IAClCC,EAAuBD,EAAvBC,MAAUC,EADuB,YACVF,EADU,WAExC,OAAO,kBAACV,EAAgBU,EAAO,8CAAcC,EAAWC,MAG7CC,EAAqB,SAACH,GAAW,IACrCC,EAAuBD,EAAvBC,MAAUC,EAD0B,YACbF,EADa,WAE3C,OAAO,kBAACV,EAAgBU,EAAO,2CAAWC,EAAWC,MAG1CE,EAAoB,SAACJ,GAAW,IACpCC,EAAuBD,EAAvBC,MAAUC,EADyB,YACZF,EADY,WAE1C,OAAO,kBAACV,EAAgBU,EAAO,2CAAWC,EAAWC,MAG1CG,EAAc,SAACC,EAAaC,EAAMC,EAAYC,EAAWC,GAAsB,IAAhBV,EAAe,uDAAP,GAClF,OACE,kBAAC,IAAD,eACEM,YAAaA,EACbC,KAAMA,EACNG,KAAMA,EACNF,WAAYA,EACZC,UAAWA,GACPT,M,oBCvCVW,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,8B,iCCD1E,oGAAMC,EAAW,SAACC,GAChB,IAAIA,EACJ,MAAO,qBAGHC,EAAmB,SAACC,GAAD,OAAe,SAACF,GACvC,GAAIA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,cAI1BE,EAAmB,SAACC,GAAD,OAAe,SAACL,GACvC,GAAIA,EAAMG,OAASE,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,oBCVhCR,EAAOC,QAAU,CAAC,SAAW,wBAAwB,cAAgB,6BAA6B,YAAc,2BAA2B,iBAAmB,gCAAgC,iBAAmB,gCAAgC,cAAgB,+B,iCCDjQ,wGASMI,EAAYD,YAAiB,IAC/BI,EAAYD,YAAiB,GAkC3BE,EAAiBC,YAAU,CAACC,KAAM,SAAjBD,CAhCL,SAAC,GAA+B,IAA9BE,EAA6B,EAA7BA,aAAc5B,EAAe,EAAfA,MAChC,OACE,0BAAM6B,SAAUD,EAAc3B,UAAWC,IAAM4B,eAC7C,kBAAC,IAAD,CAAOlB,KAAK,QACVX,UAAWC,IAAM6B,YACjBjB,UAAWL,IACXE,YAAY,iCACZqB,SAAU,CAACd,IAAUG,EAAWG,KAElC,kBAAC,IAAD,CAAOZ,KAAK,WACVX,UAAWC,IAAM+B,iBACjBnB,UAAWL,IACXE,YAAY,uCACZI,KAAK,WACLiB,SAAU,CAACd,IAAUG,EAAWG,KAGlC,6BACE,kBAAC,IAAD,CAAOZ,KAAK,aACVX,UAAWC,IAAMgC,iBACjBpB,UAAU,QACVC,KAAK,WACLJ,YAAY,yCALhB,mFASA,4BAAQI,KAAK,UAAb,mCAEA,yBAAKd,UAAWC,IAAMiC,eAAgBnC,MA4B7BoC,sBAFS,SAAC,GAAD,MAAmB,CAACC,OAApB,EAAEC,OAAiCC,KAAKF,SAExB,CAACG,aAA1BJ,CAjBD,SAAC,GAA8B,IAA7BI,EAA4B,EAA5BA,QAMd,OAN0C,EAAnBH,OAMJ,kBAAC,IAAD,CAAUI,GAAG,aAG9B,yBAAKxC,UAAWC,IAAMwC,UACpB,kBAACjB,EAAD,CAAgBI,SATH,SAAC,GAAuC,IAAtCc,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,WAClCC,QAAQC,IAAIJ,EAAOC,EAAUC,GAC7BL,EAAQG,EAAOC,EAAUC","file":"static/js/7.7fb51e0d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Field} from \"redux-form\";\r\nimport style from \"./FormsControl.module.css\";\r\n\r\n\r\nconst FormControl = ({meta, children}) => {\r\n  const showError = meta.touched && meta.error;\r\n  return (\r\n    <div className={style.formControl + \" \" + (showError && style.error) }>\r\n      <div>\r\n        {children}\r\n      </div>\r\n      {showError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const PostFormControl = (props) => {\r\n  const {input, ...restProps} = props;\r\n  return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>;\r\n};\r\n\r\nexport const MessageFormControl = (props) => {\r\n  const {input, ...restProps} = props;\r\n  return <FormControl {...props}><input {...input} {...restProps}/></FormControl>;\r\n};\r\n\r\nexport const LoginInputControl = (props) => {\r\n  const {input, ...restProps} = props;\r\n  return <FormControl {...props}><input {...input} {...restProps}/></FormControl>;\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, type, props = {}) => {\r\n  return (\r\n    <Field \r\n      placeholder={placeholder}\r\n      name={name}\r\n      type={type}\r\n      validators={validators}\r\n      component={component}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__316Ap\",\"error\":\"FormsControl_error__1Y26u\"};","const required = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nconst maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n};\r\n\r\nconst minLengthCreator = (minLength) => (value) => {\r\n  if (value.length < minLength) return `Min length is ${minLength} symbols`;\r\n  return undefined;\r\n};\r\n\r\n\r\nexport {required, maxLengthCreator, minLengthCreator};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appLogin\":\"Login_appLogin__1DjYT\",\"appLoginBlock\":\"Login_appLoginBlock__2WvVv\",\"appLoginLog\":\"Login_appLoginLog__1c8Ts\",\"appLoginPassword\":\"Login_appLoginPassword__3sLQc\",\"appLoginCheckbox\":\"Login_appLoginCheckbox__3S1zu\",\"appLoginError\":\"Login_appLoginError__FGxUq\"};","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {reduxForm, Field} from \"redux-form\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {loginTC} from \"../../redux/actions\";\r\nimport {LoginInputControl} from \"../common/FormsControl/FormsControl\";\r\nimport {required, maxLengthCreator, minLengthCreator} from \"../../helpers/validators\";\r\nimport style from \"./Login.module.css\";\r\n\r\nconst maxLength = maxLengthCreator(30), \r\n    minLength = minLengthCreator(2);\r\n\r\nconst LoginForm = ({handleSubmit, error}:any) => {\r\n  return (\r\n    <form onSubmit={handleSubmit} className={style.appLoginBlock}>\r\n      <Field name=\"email\"\r\n        className={style.appLoginLog} \r\n        component={LoginInputControl}\r\n        placeholder=\"Логин\"\r\n        validate={[required, maxLength, minLength]}\r\n      />\r\n      <Field name=\"password\"\r\n        className={style.appLoginPassword} \r\n        component={LoginInputControl}\r\n        placeholder=\"Пароль\"\r\n        type=\"password\"\r\n        validate={[required, maxLength, minLength]}\r\n      />\r\n\r\n      <div>\r\n        <Field name=\"rememberMe\"\r\n          className={style.appLoginCheckbox} \r\n          component=\"input\"\r\n          type=\"checkbox\"\r\n          placeholder=\"Пароль\"\r\n        />Запомнить меня\r\n      </div>\r\n\r\n      <button type=\"submit\">Войти!</button>\r\n\r\n      <div className={style.appLoginError}>{error}</div>\r\n    </form>\r\n  );\r\n};\r\nconst LoginReduxForm = reduxForm({form: \"login\"})(LoginForm);\r\n\r\ninterface IProps {\r\n  loginTC: any;\r\n  isAuth: boolean;\r\n}\r\n \r\nconst Login = ({loginTC, isAuth}:IProps) => {\r\n  const onSubmit = ({email, password, rememberMe}:any) => {\r\n    console.log(email, password, rememberMe);\r\n    loginTC(email, password, rememberMe);\r\n  };\r\n\r\n  if (isAuth) return <Redirect to=\"/profile\"/>;\r\n\r\n  return (\r\n    <div className={style.appLogin}>\r\n      <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({global}:any) => ({isAuth: global.auth.isAuth});\r\n  \r\nexport default connect(mapStateToProps, {loginTC})(Login);"],"sourceRoot":""}