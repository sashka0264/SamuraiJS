{"version":3,"sources":["components/Navbar/Navbar.module.css","redux/reducer.ts","redux/store.js","components/Header/Header/Header.tsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.tsx","hoc/WithSuspense.jsx","App.js","index.js","components/common/Spinner/Spinner.tsx","components/Header/Header/Header.module.css","services/services.js","redux/actions.js","App.module.css","components/Navbar/img/message.svg","components/Navbar/img/profile.svg","components/Navbar/img/friends.svg"],"names":["module","exports","initialState","app","initialized","auth","userId","email","login","isAuth","profilePage","posts","id","message","likes","profile","status","messagesPage","dialogs","name","messages","content","sidebar","usersPage","pageSize","pagePeriod","usePage","control","totalUsersCount","currentPage","users","loading","followingInProgress","reducer","state","action","type","SAVE_PHOTO_SUCCESS","photos","SET_PAGE_PERIOD","SEND_MESSAGE","newMessage","Date","now","ADD_POST","newPost","postMessage","FOLLOW","map","user","followed","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","page","SET_TOTAL_USERS_COUNT","count","TOGGLE_IS_LOADING","loadingStatus","SET_USER_PROFILE","SET_USER_DATA","TOGGLE_IS_FOLLOWING_PROGRESS","filter","SET_USER_STATUS","INITIALIZED_SUCCESS","DELETE_POST","post","reducers","combineReducers","global","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","Header","logoutTC","className","style","appHeader","appHeaderLoginBlock","appHeaderLogIn","to","onClick","appHeaderLogOut","HeaderContainer","this","props","Component","connect","appNav","appNavLink","alt","src","appNavImage","friends","WithSuspense","MyComponent","Spinner","fallback","DialogsContainer","React","lazy","ProfileContainer","News","Music","Settings","UsersContainer","LoginPage","AppContainer","basename","process","AppWithRouter","App","initializeAppTC","appWrapper","appReference","path","render","compose","withRouter","getMeTC","ReactDOM","document","getElementById","base","axios","withCredentials","baseURL","headers","usersAPI","getUsers","get","then","response","data","getDeleteUser","delete","getPostUser","profileAPI","put","file","formData","FormData","append","authAPI","password","rememberMe","sendMessageAC","text","addPostAC","followAC","unfollowAC","setCurrentPageAC","toggleIsLoadingAC","setUserData","toggleIsFollowingProgressAC","setUserStatusAC","setPagePeriodAC","initializedSuccess","followFlow","dispatch","apiMethod","actionCreator","a","resultCode","unfollowTC","bind","followTC","getUsersTC","items","totalCount","getProfileTC","getUserStatusTC","updateUserStatusTC","loginTC","length","stopSubmit","_error","promiseGetMe","Promise","all","savePhotoTC"],"mappings":"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","file":"static/js/main.2658e36c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"appNav\":\"Navbar_appNav__1NKBo\",\"appNavImage\":\"Navbar_appNavImage__3lbZ9\",\"appNavLink\":\"Navbar_appNavLink__1twK2\"};","import {\r\n\tSEND_MESSAGE,\r\n\tADD_POST,\r\n\tFOLLOW,\r\n\tUNFOLLOW,\r\n\tSET_USERS,\r\n\tSET_CURRENT_PAGE,\r\n\tSET_TOTAL_USERS_COUNT,\r\n\tTOGGLE_IS_LOADING,\r\n\tSET_USER_PROFILE,\r\n\tSET_USER_DATA,\r\n\tTOGGLE_IS_FOLLOWING_PROGRESS,\r\n\tSET_USER_STATUS,\r\n\tINITIALIZED_SUCCESS,\r\n\tDELETE_POST,\r\n\tSET_PAGE_PERIOD,\r\n\tSAVE_PHOTO_SUCCESS\r\n} from \"./actions\";\r\n\r\nexport const initialState = {\r\n\tapp: {\r\n\t\tinitialized: false as boolean\r\n\t},\r\n\tauth: {\r\n\t\tuserId: null as null | number,\r\n\t\temail: null as null | string,\r\n\t\tlogin: null as null | string,\r\n\t\tisAuth: false as boolean\r\n\t},\r\n\tprofilePage: {\r\n\t\tposts: [ \r\n\t\t\t{id: 1, message: \"Мой первый пост!\", likes: 12}\r\n\t\t] as Array<{id: number, message: string, likes: number}>,\r\n\t\tprofile: {} as {},\r\n\t\tstatus: \"\" as string\r\n\t},\r\n\tmessagesPage: {\r\n\t\tdialogs: [ \r\n\t\t\t{id: 1, name: \"Уля\"}, \r\n\t\t\t{id: 2, name: \"Анна\"}, \r\n\t\t\t{id: 3, name: \"Влад\"}, \r\n\t\t\t{id: 4, name: \"Тимур\"}, \r\n\t\t\t{id: 5, name: \"Андрей\"}\r\n\t\t] as Array<{id: number, name: string}>,\r\n\t\tmessages: [ \r\n\t\t\t{id: 1, content: \"Привет\"}, \r\n\t\t\t{id: 2, content: \"Как дела?\"}, \r\n\t\t\t{id: 3, content: \":3\"}\r\n\t\t] as Array<{id: number, content: string}>\r\n\t}, \r\n\tsidebar: {} as {},\r\n\tusersPage: {\r\n\t\tpageSize: 30 as number,\r\n\t\tpagePeriod: {usePage: 1, control: 10} as Record<string, number>,\r\n\t\ttotalUsersCount: 0 as number,\r\n\t\tcurrentPage: 1 as number,\r\n\t\tusers: [] as Array<{}>,\r\n\t\tloading: false as boolean,\r\n\t\tfollowingInProgress: [] as []\r\n\t}\r\n};\r\n\r\nconst reducer = (state: any = initialState, action: any) => {\r\n\tswitch (action.type) {\r\n\t\tcase SAVE_PHOTO_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tprofilePage: {\r\n\t\t\t\t\t...state.profilePage,\r\n\t\t\t\t\tprofile: {\r\n\t\t\t\t\t\t...state.profilePage.profile,\r\n\t\t\t\t\t\tphotos: action.photos\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase SET_PAGE_PERIOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tusersPage: {\r\n\t\t\t\t\t...state.usersPage,\r\n\t\t\t\t\tpagePeriod: {\r\n\t\t\t\t\t\t...state.usersPage.pagePeriod,\r\n\t\t\t\t\t\tusePage: action.usePage\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase SEND_MESSAGE: \r\n\t\t\t// с id нужно поработать\r\n\t\t\tconst newMessage = {id: Date.now(), content: action.content};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessagesPage: {\r\n\t\t\t\t\t...state.messagesPage,\r\n\t\t\t\t\tmessages: [\r\n\t\t\t\t\t\t...state.messagesPage.messages,\r\n\t\t\t\t\t\tnewMessage\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase ADD_POST:\r\n\t\t\t\t// с id нужно поработать\r\n\t\t\tconst newPost = {id: Date.now(), message: action.postMessage, likes: 0};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofilePage: {\r\n\t\t\t\t\t...state.profilePage,\r\n\t\t\t\t\tposts: [\r\n\t\t\t\t\t\tnewPost,\r\n\t\t\t\t\t\t...state.profilePage.posts\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tusersPage: {\r\n\t\t\t\t\t...state.usersPage,\r\n\t\t\t\t\tusers: state.usersPage.users.map((user: { id: any; }) => {\r\n\t\t\t\t\t\tif (user.id === action.id) {\r\n\t\t\t\t\t\t\treturn {...user, followed: true};\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\treturn user;\r\n\t\t\t\t\t})    \r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tusersPage: {\r\n\t\t\t\t\t...state.usersPage,\r\n\t\t\t\t\tusers: state.usersPage.users.map((user: { id: any; }) => {\r\n\t\t\t\t\t\tif (user.id === action.id) {\r\n\t\t\t\t\t\t\treturn {...user, followed: false};\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\treturn user;\r\n\t\t\t\t\t})    \r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusersPage: {\r\n\t\t\t\t\t...state.usersPage,\r\n\t\t\t\t\tusers: [...action.users]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase SET_CURRENT_PAGE: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusersPage: {\r\n\t\t\t\t\t...state.usersPage,\r\n\t\t\t\t\tcurrentPage: action.page\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase SET_TOTAL_USERS_COUNT: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusersPage: {\r\n\t\t\t\t\t...state.usersPage,\r\n\t\t\t\t\ttotalUsersCount: action.count\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase TOGGLE_IS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusersPage: {\r\n\t\t\t\t\t...state.usersPage,\r\n\t\t\t\t\tloading: action.loadingStatus\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase SET_USER_PROFILE: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofilePage: {\r\n\t\t\t\t\t...state.profilePage,\r\n\t\t\t\t\tprofile: {...action.profile}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tauth: {\r\n\t\t\t\t\t...state.auth,\r\n\t\t\t\t\tuserId: action.userId,\r\n\t\t\t\t\temail: action.email,\r\n\t\t\t\t\tlogin: action.login,\r\n\t\t\t\t\tisAuth: action.isAuth\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusersPage: {\r\n\t\t\t\t\t...state.usersPage,\r\n\t\t\t\t\tfollowingInProgress: action.status \r\n\t\t\t\t\t? [...state.usersPage.followingInProgress, action.userId] \r\n\t\t\t\t\t: state.usersPage.followingInProgress.filter((id: any) => id !== action.userId) \r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase SET_USER_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofilePage: {\r\n\t\t\t\t\t...state.profilePage,\r\n\t\t\t\t\tstatus: action.status\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tapp: {\r\n\t\t\t\t\t...state.app,\r\n\t\t\t\t\tinitialized: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase DELETE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofilePage: {\r\n\t\t\t\t\t...state.profilePage,\r\n\t\t\t\t\tposts: state.profilePage.posts.filter((post: { id: any; }) => post.id !== action.id)\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tdefault: \r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;","import { createStore, applyMiddleware, combineReducers } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\"; \r\nimport logger from \"redux-logger\";\r\n\r\nimport reducer from \"./reducer\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\n\r\nconst reducers = combineReducers({global: reducer, form: formReducer});\r\n\r\nexport const store = createStore(reducers, applyMiddleware(thunkMiddleware)); // + logger\r\n\r\nwindow.store = store;","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from \"./Header.module.css\";\r\n\r\ninterface IProps {\r\n  isAuth: boolean;\r\n  login: string | null;\r\n  logoutTC: any;\r\n}\r\n\r\nconst Header = ({isAuth, login, logoutTC}: IProps) => {\r\n  return (\r\n    <header className={style.appHeader}>\r\n      <div className={style.appHeaderLoginBlock}>\r\n        <NavLink className={style.appHeaderLogIn} to=\"/login\">\r\n          <span>{isAuth ? `${login}` : \"Войти\"}</span>\r\n        </NavLink>\r\n        \r\n        <span onClick={() => logoutTC()} className={style.appHeaderLogOut}>\r\n          {isAuth ? \"Выйти\" : null}\r\n        </span>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutTC} from \"../../redux/actions\";\r\nimport Header from \"./Header/Header\";\r\n\r\nclass HeaderContainer extends Component {\r\n  render() {\r\n    return <Header {...this.props}/>;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = ({global}) => ({isAuth: global.auth.isAuth, login: global.auth.login});\r\n  \r\nexport default connect(mapStateToProps, {logoutTC})(HeaderContainer);","/* eslint-disable react/prop-types */\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport message from \"./img/message.svg\";\r\nimport news from \"./img/news.svg\";\r\nimport music from \"./img/music.svg\";\r\nimport setting from \"./img/setting.svg\";\r\nimport profile from \"./img/profile.svg\";\r\nimport friends from \"./img/friends.svg\";\r\nimport style from \"./Navbar.module.css\";\r\n\r\ninterface IProps {\r\n  isAuth: boolean;\r\n}\r\n\r\nconst Navbar = ({isAuth}:IProps) => {\r\n  return (\r\n    <nav className={style.appNav}>\r\n      {isAuth && <NavLink to=\"/profile\" className={style.appNavLink}>\r\n        <img alt=\"profile-icon\" src={profile} className={style.appNavImage}/>\r\n        Профиль\r\n      </NavLink>}\r\n\r\n      {/* {isAuth && <NavLink to=\"/news\" className={style.appNavLink}>\r\n        <img alt=\"news-icon\" src={news} className={style.appNavImage}/>\r\n        Новости\r\n      </NavLink>} */}\r\n\r\n      {isAuth &&<NavLink to=\"/dialogs\" className={style.appNavLink}>\r\n        <img alt=\"message-icon\" src={message} className={style.appNavImage}/>\r\n        Сообщения\r\n      </NavLink>}\r\n\r\n      <NavLink to=\"/users\" className={style.appNavLink}>\r\n        <img alt=\"friends-icon\" src={friends} className={style.appNavImage}/>\r\n        Найти друзей\r\n      </NavLink>\r\n\r\n      {/* {isAuth && <NavLink to=\"/music\" className={style.appNavLink}>\r\n        <img alt=\"music-icon\" src={music} className={style.appNavImage}/>\r\n        Музыка\r\n      </NavLink>} */}\r\n\r\n      {/* {isAuth &&<NavLink to=\"/settings\" className={style.appNavLink}>\r\n        <img alt=\"setting-icon\" src={setting} className={style.appNavImage}/>\r\n        Настройки\r\n      </NavLink>} */}\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({global}:any) => ({\r\n  isAuth: global.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Navbar);","/* eslint-disable react/display-name */\r\nimport React, { Suspense } from \"react\";\r\n\r\nconst WithSuspense = (MyComponent, Spinner) => {\r\n  return (props) => {\r\n    const fallback = !!Spinner ? <Spinner/> : null;\r\n    return <Suspense fallback={fallback}>\r\n      <MyComponent {...props}/>\r\n    </Suspense>;\r\n  };\r\n};\r\n\r\nexport default WithSuspense;","/* eslint-disable react/prop-types */\r\nimport React, { Component } from \"react\";\r\nimport { Route, withRouter, HashRouter } from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {store} from \"./redux/store\";\r\nimport {Provider} from \"react-redux\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {getMeTC, initializeAppTC} from \"./redux/actions\";\r\nimport Spinner from \"./components/common/Spinner/Spinner\";\r\nimport WithSuspense from \"./hoc/WithSuspense\";\r\nimport style from \"./App.module.css\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer')),\r\n  ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer')),\r\n  News = React.lazy(() => import('./components/News/News')),\r\n  Music = React.lazy(() => import('./components/Music/Music')),\r\n  Settings = React.lazy(() => import('./components/Settings/Settings')),\r\n  UsersContainer = React.lazy(() => import('./components/Users/UsersContainer')),\r\n  LoginPage = React.lazy(() => import('./components/Login/Login'));\r\n\r\nconst AppContainer = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <HashRouter basename={process.env.PUBLIC_URL}> {/* чтобы приложение не падало при роутинге после деплоя */}\r\n        <AppWithRouter/>\r\n      </HashRouter> {/* HashRouter позволяет переключаться не по url, а по хэшам */}\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default AppContainer;\r\n\r\nexport class App extends Component {\r\n  componentDidMount() {\r\n    const {initializeAppTC} = this.props;\r\n    initializeAppTC();\r\n  }\r\n\r\n  render() {\r\n    const {initialized} = this.props;\r\n    if (!initialized) {\r\n      return <Spinner/>;\r\n    }\r\n    return (\r\n      <div className={style.appWrapper}>\r\n        <HeaderContainer/>\r\n        <Navbar/>\r\n  \r\n        <div className={style.appReference}>\r\n          <Route \r\n            path=\"/profile/:userId?\" \r\n            render={WithSuspense(ProfileContainer, null)}\r\n          /> \r\n\r\n          <Route \r\n            path=\"/dialogs\" \r\n            render={WithSuspense(DialogsContainer, Spinner)}\r\n          /> \r\n\r\n          <Route \r\n            path=\"/news\" \r\n            render={WithSuspense(News, Spinner)}\r\n          /> \r\n\r\n          <Route \r\n            path=\"/music\" \r\n            render={WithSuspense(Music, Spinner)}\r\n          /> \r\n\r\n          <Route \r\n            path=\"/settings\" \r\n            render={WithSuspense(Settings, Spinner)}\r\n          /> \r\n\r\n          <Route \r\n            path=\"/users\" \r\n            render={WithSuspense(UsersContainer, null)}\r\n          /> \r\n\r\n          <Route \r\n            path=\"/login\" \r\n            render={WithSuspense(LoginPage, Spinner)}\r\n          /> \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({global}) => ({\r\n  initialized: global.app.initialized\r\n});\r\n\r\nconst AppWithRouter = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {getMeTC, initializeAppTC})\r\n)(App);\r\n\r\n\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport AppContainer from \"./App\";\r\nimport \"./index.module.css\";\r\n\r\nReactDOM.render(<AppContainer/>, document.getElementById(\"root\"));\r\n","import React from \"react\";\r\nimport \"./Spinner.css\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"lds-css ng-scope\">\r\n      <div className=\"lds-rolling\">\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appHeader\":\"Header_appHeader__2gyR7\",\"appHeaderLoginBlock\":\"Header_appHeaderLoginBlock__1w5i1\",\"appHeaderLogOut\":\"Header_appHeaderLogOut__2xkJN\"};","import * as axios from \"axios\";\r\n\r\nconst base = axios.create({\r\n  withCredentials: true,\r\n  // withCredentials (переводится как ваша авторизованность) - чтобы цепануть cookie \r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\"API-KEY\":\"9c4c0b67-afad-4fc5-8099-60e295f78a94\"}\r\n});                    \r\n\r\nconst usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return base.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n  },\r\n  getDeleteUser(id) {\r\n    return base.delete(`follow/${id}`).then(response => response.data);\r\n  },\r\n  getPostUser(id) {\r\n    return base.post(`follow/${id}`).then(response => response.data);\r\n  }\r\n};\r\n\r\nconst profileAPI = {\r\n  getProfile(userId) {\r\n    return base.get(`profile/${userId}`).then(response => response.data);\r\n  },\r\n  getStatus(userId) {\r\n    return base.get(`profile/status/${userId}`).then(response => response.data);\r\n  },\r\n  updateStatus(status) {\r\n    return base.put(\"profile/status\", {status: status}).then(response => response.data);\r\n  },\r\n  savePhoto(file) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    return base.put(\"profile/photo\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    }).then(response => response.data);\r\n  }\r\n};\r\n\r\nconst authAPI = {\r\n  getMe() {\r\n    return base.get(\"auth/me\").then(response => response.data);\r\n  },\r\n  logIn(email, password, rememberMe) {\r\n    return base.post(\"auth/login\", {email, password, rememberMe}).then(response => response.data);\r\n  }, \r\n  logOut() {\r\n    return base.delete(\"auth/login\");\r\n  }\r\n};\r\n\r\n\r\nexport {usersAPI, profileAPI, authAPI};\r\n","import {usersAPI, profileAPI, authAPI} from \"../services/services\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nexport const SEND_MESSAGE = \"SEND-MESSAGE\",\r\n\tADD_POST = \"ADD-POST\",\r\n\tFOLLOW = \"FOLLOW\",\r\n\tUNFOLLOW = \"UNFOLLOW\",\r\n\tSET_USERS = \"SET-USERS\",\r\n\tSET_CURRENT_PAGE = \"SET-CURRENT-PAGE\",\r\n\tSET_TOTAL_USERS_COUNT = \"SET-TOTAL-USERS-COUNT\",\r\n\tTOGGLE_IS_LOADING = \"TOGGLE-IS-LOADING\",\r\n\tSET_USER_PROFILE = \"SET-USER-PROFILE\",\r\n\tSET_USER_DATA = \"network/auth/SET-USER-DATA\",\r\n\tTOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE-IS-FOLLOWING-PROGRESS\",\r\n\tSET_USER_STATUS = \"SET-USER-STATUS\",\r\n\tUPDATE_USER_STATUS = \"UPDATE-USER-STATUS\",\r\n\tDELETE_POST = \"DELETE-POST\",\r\n\tINITIALIZED_SUCCESS = \"INITIALIZED-SUCCESS\",\r\n\tSAVE_PHOTO_SUCCESS = \"SAVE-PHOTO-SUCCESS\",\r\n\tSET_PAGE_PERIOD = \"SET-PAGE-PERIOD\";\r\n\r\nexport const sendMessageAC = (text) => ({type: SEND_MESSAGE, content: text}),\r\n\taddPostAC = (text) => ({type: ADD_POST, postMessage: text}),\r\n\tdeletePostAC = (id) => ({type: DELETE_POST, id}),\r\n\tfollowAC = (id) => ({type: FOLLOW, id}),\r\n\tunfollowAC = (id) => ({type: UNFOLLOW, id}),\r\n\tsetUsersAC = (users) => ({type: SET_USERS, users}),\r\n\tsetCurrentPageAC = (page) => ({type: SET_CURRENT_PAGE, page}),\r\n\tsetTotalUsersCountAC = (count) => ({type: SET_TOTAL_USERS_COUNT, count}),\r\n\ttoggleIsLoadingAC = (loadingStatus) => ({type: TOGGLE_IS_LOADING, loadingStatus}),\r\n\tsetUserProfileAC = (profile) => ({type: SET_USER_PROFILE, profile}),\r\n\tsetUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, userId, email, login, isAuth}),\r\n\ttoggleIsFollowingProgressAC = (status, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, status, userId}),\r\n\tsetUserStatusAC = (status) => ({type: SET_USER_STATUS, status}),\r\n\tupdateUserStatusAC = () => ({type: UPDATE_USER_STATUS}),\r\n\tsetPagePeriodAC = (usePage) => ({type: SET_PAGE_PERIOD, usePage}),\r\n\tsavePhotoAC = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos}),\r\n\tinitializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nconst followFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n\tdispatch(toggleIsFollowingProgressAC(true, id));\r\n\tconst data = await apiMethod(id);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(id));\r\n\t}\r\n\tdispatch(toggleIsFollowingProgressAC(false, id));\r\n};\r\n\r\nexport const unfollowTC = (id) => async (dispatch) => {\r\n\tconst apiMethod = usersAPI.getDeleteUser.bind(usersAPI),\r\n\t\tactionCreator = unfollowAC;\r\n\tfollowFlow(dispatch, id, apiMethod, actionCreator);\r\n},\r\nfollowTC = (id) => async (dispatch) => {\r\n\tconst apiMethod = usersAPI.getPostUser.bind(usersAPI),\r\n\t\tactionCreator = followAC;\r\n\tfollowFlow(dispatch, id, apiMethod, actionCreator);\r\n},\r\ngetUsersTC = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleIsLoadingAC(true));\r\n\tconst data = await usersAPI.getUsers(currentPage, pageSize);\r\n\tdispatch(toggleIsLoadingAC(false));\r\n\tdispatch(setUsersAC(data.items));\r\n\tdispatch(setTotalUsersCountAC(data.totalCount));\r\n},\r\ngetProfileTC = (id) => async (dispatch) => {\r\n\tconst data = await profileAPI.getProfile(id);\r\n\tdispatch(setUserProfileAC(data));\r\n},\r\ngetUserStatusTC = (id) => async (dispatch) => {\r\n\tconst data = await profileAPI.getStatus(id);\r\n\tdispatch(setUserStatusAC(data));\t\r\n},\r\nupdateUserStatusTC = (status) => async (dispatch) => {\r\n\tconst data = await profileAPI.updateStatus(status);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setUserStatusAC(status));\r\n\t}\r\n},\r\ngetMeTC = () => async (dispatch) => {\r\n\tconst data = await authAPI.getMe();\r\n\tif (data.resultCode === 0) {\r\n\t\tconst {id, email, login} = data.data;\r\n\t\tdispatch(setUserData(id, email, login, true));\r\n\t}\r\n},\r\nloginTC = (email, password, rememberMe = false) => async (dispatch) => {\r\n\tconst data = await authAPI.logIn(email, password, rememberMe);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(getMeTC());\r\n\t} else {\r\n\t\tconst message = (data.messages.length > 0) ? data.messages[0] : \"Something wrong\",\r\n\t\t\taction = stopSubmit(\"login\", {_error: `${message}`});\r\n\t\tdispatch(action);\r\n\t}\r\n},\r\nlogoutTC = () => async (dispatch) => {\r\n\tconst data = await authAPI.logOut();\r\n\tif (data.data.resultCode === 0) {\r\n\t\tdispatch(setUserData(null, null, null, false));\r\n\t}\r\n},\r\ninitializeAppTC = () => (dispatch) => {\r\n\tlet promiseGetMe = dispatch(getMeTC());\r\n\tpromiseGetMe.then(() => {\r\n\t\tdispatch(initializedSuccess());\r\n\t});\r\n\tPromise.all([promiseGetMe]).then(() => {\r\n\t\tdispatch(initializedSuccess());\r\n\t});\r\n\t// Если будет много dispatch\r\n},\r\nsavePhotoTC = (file) => async (dispatch) => {\r\n\tlet response = await profileAPI.savePhoto(file);\r\n\t// console.log(response)\r\n\tif (response.resultCode === 0) {\r\n\t\tdispatch(savePhotoAC(response.data.photos));\r\n\t}\r\n};\r\n\r\n\r\n\r\n    \r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__2QLAE\",\"appReference\":\"App_appReference__1Pb7P\"};","module.exports = __webpack_public_path__ + \"static/media/message.bda0f5d5.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile.a08e921b.svg\";","module.exports = __webpack_public_path__ + \"static/media/friends.d556ee07.svg\";"],"sourceRoot":""}