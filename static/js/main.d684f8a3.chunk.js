(window["webpackJsonpreact-is-just"]=window["webpackJsonpreact-is-just"]||[]).push([[1],{136:function(e,t,n){e.exports=n(226)},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(45),s=n.n(u),c=n(32),i=n(33),o=n(35),l=n(34),p=n(36),f=n(22),d=n(18),g=n(20),m=n(10),b=n(78),h=(n(144),n(31)),v=n(79),E=n(4);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){Object(v.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w={app:{initialized:!1},auth:{userId:null,email:null,login:null,isAuth:!1},profilePage:{posts:[],profile:{},status:""},messagesPage:{dialogs:[{id:1,name:"\u0423\u043b\u044f"},{id:2,name:"\u0410\u043d\u043d\u0430"},{id:3,name:"\u0412\u043b\u0430\u0434"},{id:4,name:"\u0422\u0438\u043c\u0443\u0440"},{id:5,name:"\u0410\u043d\u0434\u0440\u0435\u0439"}],messages:[{id:1,content:"\u041f\u0440\u0438\u0432\u0435\u0442"},{id:2,content:"\u041a\u0430\u043a \u0434\u0435\u043b\u0430?"},{id:3,content:":3"}]},sidebar:{},usersPage:{pageSize:30,pagePeriod:{usePage:1,control:10},totalUsersCount:0,currentPage:1,users:[],loading:!1,followingInProgress:[]}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.g:return O({},e,{usersPage:O({},e.usersPage,{pagePeriod:O({},e.usersPage.pagePeriod,{usePage:t.usePage})})});case E.e:var n={id:Date.now(),content:t.content};return O({},e,{messagesPage:O({},e.messagesPage,{messages:[].concat(Object(h.a)(e.messagesPage.messages),[n])})});case E.a:var r={id:Date.now(),message:t.postMessage,likes:0};return O({},e,{profilePage:O({},e.profilePage,{posts:[r].concat(Object(h.a)(e.profilePage.posts))})});case E.c:return O({},e,{usersPage:O({},e.usersPage,{users:e.usersPage.users.map(function(e){return e.id===t.id?O({},e,{followed:!0}):e})})});case E.o:return O({},e,{usersPage:O({},e.usersPage,{users:e.usersPage.users.map(function(e){return e.id===t.id?O({},e,{followed:!1}):e})})});case E.i:return O({},e,{usersPage:O({},e.usersPage,{users:Object(h.a)(t.users)})});case E.f:return O({},e,{usersPage:O({},e.usersPage,{currentPage:t.page})});case E.h:return O({},e,{usersPage:O({},e.usersPage,{totalUsersCount:t.count})});case E.n:return O({},e,{usersPage:O({},e.usersPage,{loading:t.loadingStatus})});case E.k:return O({},e,{profilePage:O({},e.profilePage,{profile:O({},t.profile)})});case E.j:return O({},e,{auth:O({},e.auth,{userId:t.userId,email:t.email,login:t.login,isAuth:t.isAuth})});case E.m:return O({},e,{usersPage:O({},e.usersPage,{followingInProgress:t.status?[].concat(Object(h.a)(e.usersPage.followingInProgress),[t.userId]):e.usersPage.followingInProgress.filter(function(e){return e!==t.userId})})});case E.l:return O({},e,{profilePage:O({},e.profilePage,{status:t.status})});case E.d:return O({},e,{app:O({},e.app,{initialized:!0})});case E.b:return O({},e,{profilePage:O({},e.profilePage,{posts:e.profilePage.posts.filter(function(e){return e.id!==t.id})})});default:return e}},y=n(76),j=Object(g.c)({global:N,form:y.a}),I=Object(g.e)(j,Object(g.a)(b.a));window.store=I;var k=n(26),S=n.n(k),x=function(e){var t=e.isAuth,n=e.login,r=e.logoutTC;return a.a.createElement("header",{className:S.a.appHeader},a.a.createElement("img",{alt:"menu-burger",className:S.a.appHeaderImage,src:"https://siliconprice.com/img/mobileMenuIcon.png"}),a.a.createElement("div",{className:S.a.appHeaderLoginBlock},a.a.createElement(m.b,{className:S.a.appHeaderLogIn,to:"/login"},a.a.createElement("span",null,t?"".concat(n):"\u0412\u043e\u0439\u0442\u0438")),a.a.createElement("span",{onClick:function(){return r()},className:S.a.appHeaderLogOut},t?"\u0412\u044b\u0439\u0442\u0438":null)))},L=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(x,this.props)}}]),t}(r.Component),_=Object(d.b)(function(e){var t=e.global;return{isAuth:t.auth.isAuth,login:t.auth.login}},{logoutTC:E.x})(L),A=n(83),T=n.n(A),C=n(84),U=n.n(C),D=n(85),H=n.n(D),z=n(86),R=n.n(z),G=n(87),M=n.n(G),B=n(88),W=n.n(B),F=n(6),J=n.n(F),K=Object(d.b)(function(e){return{isAuth:e.global.auth.isAuth}},null)(function(e){var t=e.isAuth;return a.a.createElement("nav",{className:J.a.appNav},t&&a.a.createElement(m.b,{to:"/profile",className:J.a.appNavLink},a.a.createElement("img",{alt:"profile-icon",src:M.a,className:J.a.appNavImage}),"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),t&&a.a.createElement(m.b,{to:"/news",className:J.a.appNavLink},a.a.createElement("img",{alt:"news-icon",src:U.a,className:J.a.appNavImage}),"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),t&&a.a.createElement(m.b,{to:"/dialogs",className:J.a.appNavLink},a.a.createElement("img",{alt:"message-icon",src:T.a,className:J.a.appNavImage}),"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),a.a.createElement(m.b,{to:"/users",className:J.a.appNavLink},a.a.createElement("img",{alt:"friends-icon",src:W.a,className:J.a.appNavImage}),"\u041d\u0430\u0439\u0442\u0438 \u0434\u0440\u0443\u0437\u0435\u0439"),t&&a.a.createElement(m.b,{to:"/music",className:J.a.appNavLink},a.a.createElement("img",{alt:"music-icon",src:H.a,className:J.a.appNavImage}),"\u041c\u0443\u0437\u044b\u043a\u0430"),t&&a.a.createElement(m.b,{to:"/settings",className:J.a.appNavLink},a.a.createElement("img",{alt:"setting-icon",src:R.a,className:J.a.appNavImage}),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))}),Z=n(24),q=function(e,t){return function(n){var u=t?a.a.createElement(t,null):null;return a.a.createElement(r.Suspense,{fallback:u},a.a.createElement(e,n))}},Q=n(55),Y=n.n(Q),V=a.a.lazy(function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,321))}),X=a.a.lazy(function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,319))}),$=a.a.lazy(function(){return n.e(9).then(n.bind(null,315))}),ee=a.a.lazy(function(){return n.e(8).then(n.bind(null,316))}),te=a.a.lazy(function(){return n.e(10).then(n.bind(null,317))}),ne=a.a.lazy(function(){return n.e(6).then(n.bind(null,320))}),re=a.a.lazy(function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,318))}),ae=function(){return a.a.createElement(d.a,{store:I},a.a.createElement(m.a,null,a.a.createElement(se,null)))},ue=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.initializeAppTC)()}},{key:"render",value:function(){return this.props.initialized?a.a.createElement("div",{className:Y.a.appWrapper},a.a.createElement(_,null),a.a.createElement(K,null),a.a.createElement("div",{className:Y.a.appReference},a.a.createElement(f.b,{path:"/profile/:userId?",render:q(X,null)}),a.a.createElement(f.b,{path:"/dialogs",render:q(V,Z.a)}),a.a.createElement(f.b,{path:"/news",render:q($,Z.a)}),a.a.createElement(f.b,{path:"/music",render:q(ee,Z.a)}),a.a.createElement(f.b,{path:"/settings",render:q(te,Z.a)}),a.a.createElement(f.b,{path:"/users",render:q(ne,null)}),a.a.createElement(f.b,{path:"/login",render:q(re,Z.a)}))):a.a.createElement(Z.a,null)}}]),t}(r.Component),se=Object(g.d)(f.f,Object(d.b)(function(e){return{initialized:e.global.app.initialized}},{getMeTC:E.r,initializeAppTC:E.v}))(ue);n(225);s.a.render(a.a.createElement(ae,null),document.getElementById("root"))},24:function(e,t,n){"use strict";var r=n(0),a=n.n(r);n(224);t.a=function(){return a.a.createElement("div",{className:"lds-css ng-scope"},a.a.createElement("div",{className:"lds-rolling"},a.a.createElement("div",null)))}},26:function(e,t,n){e.exports={appHeader:"Header_appHeader__2gyR7",appHeaderImage:"Header_appHeaderImage__U2eLw",appHeaderLoginBlock:"Header_appHeaderLoginBlock__1w5i1",appHeaderLogOut:"Header_appHeaderLogOut__2xkJN"}},4:function(e,t,n){"use strict";var r=n(5),a=n.n(r),u=n(15),s=n(80).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"9c4c0b67-afad-4fc5-8099-60e295f78a94"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},getDeleteUser:function(e){return s.delete("follow/".concat(e)).then(function(e){return e.data})},getPostUser:function(e){return s.post("follow/".concat(e)).then(function(e){return e.data})}},i=function(e){return s.get("profile/".concat(e)).then(function(e){return e.data})},o=function(e){return s.get("profile/status/".concat(e)).then(function(e){return e.data})},l=function(e){return s.put("profile/status",{status:e}).then(function(e){return e.data})},p=function(){return s.get("auth/me").then(function(e){return e.data})},f=function(e,t,n){return s.post("auth/login",{email:e,password:t,rememberMe:n}).then(function(e){return e.data})},d=function(){return s.delete("auth/login")},g=n(47);n.d(t,"e",function(){return m}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return h}),n.d(t,"o",function(){return v}),n.d(t,"i",function(){return E}),n.d(t,"f",function(){return P}),n.d(t,"h",function(){return O}),n.d(t,"n",function(){return w}),n.d(t,"k",function(){return N}),n.d(t,"j",function(){return y}),n.d(t,"m",function(){return j}),n.d(t,"l",function(){return I}),n.d(t,"b",function(){return k}),n.d(t,"d",function(){return S}),n.d(t,"g",function(){return x}),n.d(t,"y",function(){return L}),n.d(t,"p",function(){return _}),n.d(t,"z",function(){return C}),n.d(t,"A",function(){return R}),n.d(t,"B",function(){return B}),n.d(t,"q",function(){return W}),n.d(t,"u",function(){return F}),n.d(t,"s",function(){return J}),n.d(t,"t",function(){return K}),n.d(t,"C",function(){return Z}),n.d(t,"r",function(){return q}),n.d(t,"w",function(){return Q}),n.d(t,"x",function(){return Y}),n.d(t,"v",function(){return V});var m="SEND-MESSAGE",b="ADD-POST",h="FOLLOW",v="UNFOLLOW",E="SET-USERS",P="SET-CURRENT-PAGE",O="SET-TOTAL-USERS-COUNT",w="TOGGLE-IS-LOADING",N="SET-USER-PROFILE",y="network/auth/SET-USER-DATA",j="TOGGLE-IS-FOLLOWING-PROGRESS",I="SET-USER-STATUS",k="DELETE-POST",S="INITIALIZED-SUCCESS",x="SET_PAGE_PERIOD",L=function(e){return{type:m,content:e}},_=function(e){return{type:b,postMessage:e}},A=function(e){return{type:h,id:e}},T=function(e){return{type:v,id:e}},C=function(e){return{type:P,page:e}},U=function(e){return{type:w,loadingStatus:e}},D=function(e,t,n,r){return{type:y,userId:e,email:t,login:n,isAuth:r}},H=function(e,t){return{type:j,status:e,userId:t}},z=function(e){return{type:I,status:e}},R=function(e){return{type:x,usePage:e}},G=function(){return{type:S}},M=function(){var e=Object(u.a)(a.a.mark(function e(t,n,r,u){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(H(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(u(n)),t(H(!1,n));case 6:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),B=function(e){return function(){var t=Object(u.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=c.getDeleteUser.bind(c),M(n,e,r,T);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},W=function(e){return function(){var t=Object(u.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=c.getPostUser.bind(c),M(n,e,r,A);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},F=function(e,t){return function(){var n=Object(u.a)(a.a.mark(function n(r){var u;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(U(!0)),n.next=3,c.getUsers(e,t);case 3:u=n.sent,r(U(!1)),r((s=u.items,{type:E,users:s})),r((a=u.totalCount,{type:O,count:a}));case 7:case"end":return n.stop()}var a,s},n)}));return function(e){return n.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(u.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(e);case 2:r=t.sent,n({type:N,profile:r});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(u.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:r=t.sent,n(z(r));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Z=function(e){return function(){var t=Object(u.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:0===t.sent.resultCode&&n(z(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},q=function(){return function(){var e=Object(u.a)(a.a.mark(function e(t){var n,r,u,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:0===(n=e.sent).resultCode&&(r=n.data,u=r.id,s=r.email,c=r.login,t(D(u,s,c,!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=Object(u.a)(a.a.mark(function r(u){var s,c,i;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f(e,t,n);case 2:0===(s=r.sent).resultCode?u(q()):(c=s.messages.length>0?s.messages[0]:"Something wrong",i=Object(g.a)("login",{_error:"".concat(c)}),u(i));case 4:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},Y=function(){return function(){var e=Object(u.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:0===e.sent.data.resultCode&&t(D(null,null,null,!1));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},V=function(){return function(e){var t=e(q());t.then(function(){e(G())}),Promise.all([t]).then(function(){e(G())})}}},55:function(e,t,n){e.exports={appWrapper:"App_appWrapper__2QLAE",appReference:"App_appReference__1Pb7P"}},6:function(e,t,n){e.exports={appNav:"Navbar_appNav__1NKBo",appNavImage:"Navbar_appNavImage__3lbZ9",appNavLink:"Navbar_appNavLink__1twK2"}},83:function(e,t,n){e.exports=n.p+"static/media/message.9f631314.svg"},84:function(e,t,n){e.exports=n.p+"static/media/news.82e6072b.svg"},85:function(e,t,n){e.exports=n.p+"static/media/music.7925fc4b.svg"},86:function(e,t,n){e.exports=n.p+"static/media/setting.23860b18.svg"},87:function(e,t,n){e.exports=n.p+"static/media/profile.0519554c.svg"},88:function(e,t,n){e.exports=n.p+"static/media/friends.d556ee07.svg"}},[[136,2,3]]]);
//# sourceMappingURL=main.d684f8a3.chunk.js.map