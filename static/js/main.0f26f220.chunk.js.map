{"version":3,"sources":["components/Navbar/Navbar.module.css","redux/reducer.ts","redux/store.js","components/Header/Header/Header.tsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.tsx","hoc/WithSuspense.jsx","App.jsx","index.jsx","components/common/Spinner/Spinner.tsx","components/Header/Header/Header.module.css","services/services.js","redux/actions.js","App.module.css","components/Navbar/img/message.svg","components/Navbar/img/music.svg","components/Navbar/img/profile.svg","components/Navbar/img/friends.svg"],"names":["module","exports","initialState","app","initialized","auth","userId","email","login","isAuth","captchaUrl","profilePage","posts","id","message","likes","profile","status","messagesPage","dialogs","name","messages","content","sidebar","usersPage","pageSize","pagePeriod","usePage","control","totalUsersCount","currentPage","users","loading","followingInProgress","reducer","state","action","type","GET_CAPTCHA_URL_SUCCESS","url","SAVE_PHOTO_SUCCESS","photos","SET_PAGE_PERIOD","SEND_MESSAGE","newMessage","Date","now","ADD_POST","newPost","postMessage","FOLLOW","map","user","followed","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","page","SET_TOTAL_USERS_COUNT","count","TOGGLE_IS_LOADING","loadingStatus","SET_USER_PROFILE","SET_USER_DATA","TOGGLE_IS_FOLLOWING_PROGRESS","filter","SET_USER_STATUS","INITIALIZED_SUCCESS","DELETE_POST","post","reducers","combineReducers","global","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","logoutTC","className","style","appHeader","appHeaderLoginBlock","appHeaderLogIn","to","onClick","appHeaderLogOut","HeaderContainer","this","props","Component","connect","appNav","appNavLink","alt","src","appNavImage","friends","music","WithSuspense","MyComponent","Spinner","fallback","DialogsContainer","React","lazy","ProfileContainer","Music","Settings","UsersContainer","LoginPage","App","initializeAppTC","appWrapper","appReference","exact","path","process","render","from","AppWithRouter","withRouter","getMeTC","AppContainer","ReactDOM","document","getElementById","base","axios","withCredentials","baseURL","headers","usersAPI","getUsers","get","then","response","data","getDeleteUser","delete","getPostUser","profileAPI","put","file","formData","FormData","append","authAPI","password","rememberMe","securityAPI","sendMessageAC","text","addPostAC","followAC","unfollowAC","setCurrentPageAC","toggleIsLoadingAC","setUserData","toggleIsFollowingProgressAC","setUserStatusAC","setPagePeriodAC","initializedSuccess","followFlow","dispatch","apiMethod","actionCreator","a","resultCode","unfollowTC","bind","followTC","getUsersTC","items","totalCount","getProfileTC","getUserStatusTC","updateUserStatusTC","getCaptchaUrlTC","loginTC","antibot","length","stopSubmit","_error","promiseGetMe","Promise","all","saveProfileInfoTC","isAuthUserId","deactivateMode","savePhotoTC"],"mappings":"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","file":"static/js/main.0f26f220.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"appNav\":\"Navbar_appNav__Kz3rW\",\"appNavImage\":\"Navbar_appNavImage__1-s2C\",\"appNavLink\":\"Navbar_appNavLink__2Ckv6\"};","import {\r\n  SEND_MESSAGE,\r\n  ADD_POST,\r\n  FOLLOW,\r\n  UNFOLLOW,\r\n  SET_USERS,\r\n  SET_CURRENT_PAGE,\r\n  SET_TOTAL_USERS_COUNT,\r\n  TOGGLE_IS_LOADING,\r\n  SET_USER_PROFILE,\r\n  SET_USER_DATA,\r\n  TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  SET_USER_STATUS,\r\n  INITIALIZED_SUCCESS,\r\n  DELETE_POST,\r\n  SET_PAGE_PERIOD,\r\n  SAVE_PHOTO_SUCCESS,\r\n  GET_CAPTCHA_URL_SUCCESS\r\n} from './actions';\r\n\r\nexport const initialState = {\r\n  app: {\r\n    initialized: false as boolean\r\n  },\r\n  auth: {\r\n    userId: null as null | number,\r\n    email: null as null | string,\r\n    login: null as null | string,\r\n    isAuth: false as boolean,\r\n    captchaUrl: null as null | string\r\n  },\r\n  profilePage: {\r\n    posts: [ \r\n      { id: 1, message: 'Default', likes: 12 }\r\n    ] as Array<{id: number, message: string, likes: number}>,\r\n    profile: {} as {},\r\n    status: '' as string\r\n  },\r\n  messagesPage: {\r\n    dialogs: [ \r\n      { id: 1, name: 'Уля' }, \r\n      { id: 2, name: 'Анна' }, \r\n      { id: 3, name: 'Влад' }, \r\n      { id: 4, name: 'Тимур' }, \r\n      { id: 5, name: 'Андрей' }\r\n    ] as Array<{id: number, name: string}>,\r\n    messages: [ \r\n      { id: 1, content: 'Привет' }, \r\n      { id: 2, content: 'Как дела?' }, \r\n      { id: 3, content: ':3' }\r\n    ] as Array<{id: number, content: string}>\r\n  }, \r\n  sidebar: {} as {},\r\n  usersPage: {\r\n    pageSize: 30 as number,\r\n    pagePeriod: { usePage: 1, control: 10 } as Record<string, number>,\r\n    totalUsersCount: 0 as number,\r\n    currentPage: 1 as number,\r\n    users: [] as Array<{}>,\r\n    loading: false as boolean,\r\n    followingInProgress: [] as []\r\n  }\r\n};\r\n\r\nconst reducer = (state: any = initialState, action: any) => {\r\n\r\n  switch (action.type) {\r\n    case GET_CAPTCHA_URL_SUCCESS: \r\n      return {\r\n        ...state,\r\n        auth: {\r\n          ...state.auth,\r\n          captchaUrl: action.url\r\n        }\r\n      };\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return {\r\n        ...state, \r\n        profilePage: {\r\n          ...state.profilePage,\r\n          profile: {\r\n            ...state.profilePage.profile,\r\n            photos: action.photos\r\n          }\r\n        }\r\n      };\r\n    case SET_PAGE_PERIOD:\r\n      return {\r\n        ...state, \r\n        usersPage: {\r\n          ...state.usersPage,\r\n          pagePeriod: {\r\n            ...state.usersPage.pagePeriod,\r\n            usePage: action.usePage\r\n          }\r\n        }\r\n      }\r\n    case SEND_MESSAGE: \r\n      // с id нужно поработать\r\n      const newMessage = { id: Date.now(), content: action.content };\r\n      return {\r\n        ...state,\r\n        messagesPage: {\r\n          ...state.messagesPage,\r\n          messages: [\r\n            ...state.messagesPage.messages,\r\n            newMessage\r\n          ]\r\n        }\r\n      };\r\n    case ADD_POST:\r\n      // с id нужно поработать\r\n      const newPost = { id: Date.now(), message: action.postMessage, likes: 0 };\r\n      return {\r\n        ...state,\r\n        profilePage: {\r\n          ...state.profilePage,\r\n          posts: [\r\n            newPost,\r\n            ...state.profilePage.posts\r\n          ]\r\n        }\r\n      };\r\n    case FOLLOW:\r\n      return {\r\n        ...state, \r\n        usersPage: {\r\n          ...state.usersPage,\r\n          users: state.usersPage.users.map((user: { id: any; }) => {\r\n            if (user.id === action.id) {\r\n              return { ...user, followed: true };\r\n            } \r\n            return user;\r\n          })    \r\n        }\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state, \r\n        usersPage: {\r\n          ...state.usersPage,\r\n          users: state.usersPage.users.map((user: { id: any; }) => {\r\n            if (user.id === action.id) {\r\n              return { ...user, followed: false };\r\n            } \r\n            return user;\r\n          })    \r\n        }\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        usersPage: {\r\n          ...state.usersPage,\r\n          users: [...action.users]\r\n        }\r\n      };\r\n    case SET_CURRENT_PAGE: \r\n      return {\r\n        ...state,\r\n        usersPage: {\r\n          ...state.usersPage,\r\n          currentPage: action.page\r\n        }\r\n      };\r\n    case SET_TOTAL_USERS_COUNT: \r\n      return {\r\n        ...state,\r\n        usersPage: {\r\n          ...state.usersPage,\r\n          totalUsersCount: action.count\r\n        }\r\n      };\r\n    case TOGGLE_IS_LOADING:\r\n      return {\r\n        ...state,\r\n        usersPage: {\r\n          ...state.usersPage,\r\n          loading: action.loadingStatus\r\n        }\r\n      };\r\n    case SET_USER_PROFILE: \r\n      return {\r\n        ...state,\r\n        profilePage: {\r\n          ...state.profilePage,\r\n          profile: { ...action.profile }\r\n        }\r\n      };\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        auth: {\r\n          ...state.auth,\r\n          userId: action.userId,\r\n          email: action.email,\r\n          login: action.login,\r\n          isAuth: action.isAuth\r\n        }\r\n      };\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: \r\n      return {\r\n        ...state,\r\n        usersPage: {\r\n          ...state.usersPage,\r\n          followingInProgress: action.status \r\n            ? [...state.usersPage.followingInProgress, action.userId] \r\n            : state.usersPage.followingInProgress.filter((id: any) => id !== action.userId) \r\n        }\r\n      };\r\n    case SET_USER_STATUS:\r\n      return {\r\n        ...state,\r\n        profilePage: {\r\n          ...state.profilePage,\r\n          status: action.status\r\n        }\r\n      };\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        app: {\r\n          ...state.app,\r\n          initialized: true\r\n        }\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        profilePage: {\r\n          ...state.profilePage,\r\n          posts: state.profilePage.posts.filter((post: { id: any; }) => post.id !== action.id)\r\n        }\r\n      };\r\n    default: \r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;","import { createStore, applyMiddleware, combineReducers, compose } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk'; \r\nimport { reducer as formReducer } from 'redux-form';\r\nimport reducer from './reducer';\r\n\r\nconst reducers = combineReducers({ global: reducer, form: formReducer });\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware))); // + logger\r\n\r\nwindow.store = store;","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from \"./Header.module.css\";\r\n\r\ninterface IProps {\r\n  isAuth: boolean;\r\n  login: string | null;\r\n  logoutTC: any;\r\n}\r\n\r\nconst Header = ({isAuth, login, logoutTC}: IProps) => {\r\n  return (\r\n    <header className={style.appHeader}>\r\n      <div className={style.appHeaderLoginBlock}>\r\n        <NavLink className={style.appHeaderLogIn} to=\"/login\">\r\n          <span>{isAuth ? `${login}` : \"Войти\"}</span>\r\n        </NavLink>\r\n        \r\n        <span onClick={() => logoutTC()} className={style.appHeaderLogOut}>\r\n          {isAuth ? \"Выйти\" : null}\r\n        </span>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutTC} from \"../../redux/actions\";\r\nimport Header from \"./Header/Header\";\r\n\r\nclass HeaderContainer extends Component {\r\n  render() {\r\n    return <Header {...this.props}/>;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = ({global}) => ({isAuth: global.auth.isAuth, login: global.auth.login});\r\n  \r\nexport default connect(mapStateToProps, {logoutTC})(HeaderContainer);","/* eslint-disable react/prop-types */\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport message from \"./img/message.svg\";\r\nimport news from \"./img/news.svg\";\r\nimport music from \"./img/music.svg\";\r\nimport setting from \"./img/setting.svg\";\r\nimport profile from \"./img/profile.svg\";\r\nimport friends from \"./img/friends.svg\";\r\nimport style from \"./Navbar.module.css\";\r\n\r\ninterface IProps {\r\n  isAuth: boolean;\r\n}\r\n\r\nconst Navbar = ({isAuth}:IProps) => {\r\n  return (\r\n    <nav className={style.appNav}>\r\n      {isAuth && <NavLink to=\"/profile\" className={style.appNavLink}>\r\n        <img alt=\"profile-icon\" src={profile} className={style.appNavImage}/>\r\n        Профиль\r\n      </NavLink>}\r\n\r\n      {/* {isAuth && <NavLink to=\"/news\" className={style.appNavLink}>\r\n        <img alt=\"news-icon\" src={news} className={style.appNavImage}/>\r\n        Новости\r\n      </NavLink>} */}\r\n\r\n      {isAuth &&<NavLink to=\"/dialogs\" className={style.appNavLink}>\r\n        <img alt=\"message-icon\" src={message} className={style.appNavImage}/>\r\n        Сообщения\r\n      </NavLink>}\r\n\r\n      <NavLink to=\"/users\" className={style.appNavLink}>\r\n        <img alt=\"friends-icon\" src={friends} className={style.appNavImage}/>\r\n        Найти друзей\r\n      </NavLink>\r\n\r\n      {isAuth && <NavLink to=\"/music\" className={style.appNavLink}>\r\n        <img alt=\"music-icon\" src={music} className={style.appNavImage}/>\r\n        Музыка\r\n      </NavLink>}\r\n\r\n      {/* {isAuth &&<NavLink to=\"/settings\" className={style.appNavLink}>\r\n        <img alt=\"setting-icon\" src={setting} className={style.appNavImage}/>\r\n        Настройки\r\n      </NavLink>} */}\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({global}:any) => ({\r\n  isAuth: global.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Navbar);","/* eslint-disable react/display-name */\r\nimport React, { Suspense } from \"react\";\r\n\r\nconst WithSuspense = (MyComponent, Spinner) => {\r\n  return (props) => {\r\n    const fallback = !!Spinner ? <Spinner/> : null;\r\n    return <Suspense fallback={fallback}>\r\n      <MyComponent {...props}/>\r\n    </Suspense>;\r\n  };\r\n};\r\n\r\nexport default WithSuspense;","\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Route, \r\n  withRouter, \r\n  BrowserRouter, \r\n  Switch, \r\n  Redirect \r\n} from 'react-router-dom';\r\nimport { Provider, connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { store } from './redux/store';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { getMeTC, initializeAppTC } from './redux/actions';\r\nimport Spinner from './components/common/Spinner/Spinner';\r\nimport WithSuspense from './hoc/WithSuspense';\r\nimport style from './App.module.css';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer')),\r\n  ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer')),\r\n  Music = React.lazy(() => import('./components/Music/Music')),\r\n  Settings = React.lazy(() => import('./components/Settings/Settings')),\r\n  UsersContainer = React.lazy(() => import('./components/Users/UsersContainer')),\r\n  LoginPage = React.lazy(() => import('./components/Login/Login'));\r\n\r\nconst AppContainer = () => (\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <AppWithRouter />\r\n    </BrowserRouter> \r\n  </Provider>\r\n);\r\n\r\nexport class App extends Component {\r\n  componentDidMount() {\r\n    const { initializeAppTC } = this.props;\r\n    initializeAppTC();\r\n  }\r\n\r\n  render() {\r\n    const { initialized } = this.props;\r\n    if (!initialized) return <Spinner />;\r\n    // console.log(process.env.PUBLIC_URL)\r\n    return (\r\n      <div className={style.appWrapper}>\r\n        <HeaderContainer />\r\n        <Navbar />\r\n  \r\n        <div className={style.appReference}>\r\n          <Switch> \r\n            {/* Switch идет до первого url, который совпадет, остальные схожие игнорируются */}\r\n            <Route exact path={process.env.PUBLIC_URL || '/'} render={() => <Redirect from=\"/\" to=\"/profile\" />} />\r\n\r\n            <Route path=\"/dialogs\" render={WithSuspense(DialogsContainer, Spinner)} />\r\n\r\n            <Route path=\"/music\" render={WithSuspense(Music, Spinner)} /> \r\n\r\n            <Route path=\"/settings\" render={WithSuspense(Settings, Spinner)} /> \r\n\r\n            <Route path=\"/users\" render={WithSuspense(UsersContainer, null)} /> \r\n\r\n            <Route path=\"/profile/:userId?\" render={WithSuspense(ProfileContainer, null)} />\r\n\r\n            <Route path=\"/login\" render={WithSuspense(LoginPage, Spinner)} /> \r\n\r\n            {/* <Route path=\"*\" render={() => {\r\n              return (\r\n                <div>404 NOT FOUND</div>\r\n              )\r\n            }} />  */}\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ global }) => ({\r\n  initialized: global.app.initialized\r\n});\r\n\r\nconst AppWithRouter = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { getMeTC, initializeAppTC })\r\n)(App);\r\n\r\nexport default AppContainer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport AppContainer from './App';\r\nimport './index.module.css';\r\n\r\nReactDOM.render(<AppContainer />, document.getElementById('root'));\r\n","import React from \"react\";\r\nimport \"./Spinner.css\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"lds-css ng-scope\">\r\n      <div className=\"lds-rolling\">\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appHeader\":\"Header_appHeader__1Q_ia\",\"appHeaderLoginBlock\":\"Header_appHeaderLoginBlock__1b7s3\",\"appHeaderLogOut\":\"Header_appHeaderLogOut__2cEqw\"};","import * as axios from 'axios';\r\n\r\nconst base = axios.create({\r\n  withCredentials: true, \r\n  // withCredentials (переводится как ваша авторизованность) - чтобы цепануть cookie \r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: { 'API-KEY': '9c4c0b67-afad-4fc5-8099-60e295f78a94' }\r\n});                    \r\n\r\nconst usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return base.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n  },\r\n  getDeleteUser(id) {\r\n    return base.delete(`follow/${id}`).then(response => response.data);\r\n  },\r\n  getPostUser(id) {\r\n    return base.post(`follow/${id}`).then(response => response.data);\r\n  }\r\n};\r\n\r\nconst profileAPI = {\r\n  getProfile(userId) {\r\n    return base.get(`profile/${userId}`).then(response => response.data);\r\n  },\r\n  getStatus(userId) {\r\n    return base.get(`profile/status/${userId}`).then(response => response.data);\r\n  },\r\n  updateStatus(status) {\r\n    return base.put('profile/status', {status: status}).then(response => response.data);\r\n  },\r\n  savePhoto(file) {\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n    return base.put('profile/photo', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    }).then(response => response.data);\r\n  },\r\n  saveProfile(formData) {\r\n    return base.put('profile', formData).then(response => response.data);\r\n  }\r\n};\r\n\r\nconst authAPI = {\r\n  getMe() {\r\n    return base.get('auth/me').then(response => response.data);\r\n  },\r\n  logIn(email, password, rememberMe) {\r\n    return base.post('auth/login', {email, password, rememberMe}).then(response => response.data);\r\n  }, \r\n  logOut() {\r\n    return base.delete('auth/login');\r\n  }\r\n};\r\n\r\nconst securityAPI = {\r\n  getCaptchaUrl() {\r\n    return base.get('security/get-captcha-url').then(response => response.data);\r\n  }\r\n};\r\n\r\nexport { usersAPI, profileAPI, authAPI, securityAPI };\r\n","import { usersAPI, profileAPI, authAPI, securityAPI } from '../services/services';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nexport const SEND_MESSAGE = 'SEND-MESSAGE',\r\n  ADD_POST = 'ADD-POST',\r\n  FOLLOW = 'FOLLOW',\r\n  UNFOLLOW = 'UNFOLLOW',\r\n  SET_USERS = 'SET-USERS',\r\n  SET_CURRENT_PAGE = 'SET-CURRENT-PAGE',\r\n  SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT',\r\n  TOGGLE_IS_LOADING = 'TOGGLE-IS-LOADING',\r\n  SET_USER_PROFILE = 'SET-USER-PROFILE',\r\n  SET_USER_DATA = 'network/auth/SET-USER-DATA',\r\n  TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS',\r\n  SET_USER_STATUS = 'SET-USER-STATUS',\r\n  UPDATE_USER_STATUS = 'UPDATE-USER-STATUS',\r\n  DELETE_POST = 'DELETE-POST',\r\n  INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS',\r\n  SAVE_PHOTO_SUCCESS = 'SAVE-PHOTO-SUCCESS',\r\n  GET_CAPTCHA_URL_SUCCESS = 'GET-CAPTCHA-URL-SUCCESS',\r\n  SET_PAGE_PERIOD = 'SET-PAGE-PERIOD';\r\n\r\nexport const sendMessageAC = (text) => ({ type: SEND_MESSAGE, content: text }),\r\n  addPostAC = (text) => ({ type: ADD_POST, postMessage: text }),\r\n  deletePostAC = (id) => ({ type: DELETE_POST, id }),\r\n  followAC = (id) => ({ type: FOLLOW, id }),\r\n  unfollowAC = (id) => ({ type: UNFOLLOW, id }),\r\n  setUsersAC = (users) => ({ type: SET_USERS, users }),\r\n  setCurrentPageAC = (page) => ({ type: SET_CURRENT_PAGE, page }),\r\n  setTotalUsersCountAC = (count) => ({ type: SET_TOTAL_USERS_COUNT, count }),\r\n  toggleIsLoadingAC = (loadingStatus) => ({ type: TOGGLE_IS_LOADING, loadingStatus }),\r\n  setUserProfileAC = (profile) => ({ type: SET_USER_PROFILE, profile }),\r\n  setUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, userId, email, login, isAuth }),\r\n  toggleIsFollowingProgressAC = (status, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, status, userId }),\r\n  setUserStatusAC = (status) => ({ type: SET_USER_STATUS, status }),\r\n  updateUserStatusAC = () => ({ type: UPDATE_USER_STATUS }),\r\n  setPagePeriodAC = (usePage) => ({ type: SET_PAGE_PERIOD, usePage }),\r\n  savePhotoAC = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos }),\r\n  getCaptchaAC = (url) => ({ type: GET_CAPTCHA_URL_SUCCESS, url }),\r\n  initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nconst followFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n  dispatch(toggleIsFollowingProgressAC(true, id));\r\n  const data = await apiMethod(id);\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(id));\r\n  }\r\n  dispatch(toggleIsFollowingProgressAC(false, id));\r\n};\r\n\r\nexport const unfollowTC = (id) => async (dispatch) => {\r\n    const apiMethod = usersAPI.getDeleteUser.bind(usersAPI),\r\n      actionCreator = unfollowAC;\r\n    followFlow(dispatch, id, apiMethod, actionCreator);\r\n  },\r\n  followTC = (id) => async (dispatch) => {\r\n    const apiMethod = usersAPI.getPostUser.bind(usersAPI),\r\n      actionCreator = followAC;\r\n    followFlow(dispatch, id, apiMethod, actionCreator);\r\n  },\r\n  getUsersTC = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsLoadingAC(true));\r\n    const data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsLoadingAC(false));\r\n    dispatch(setUsersAC(data.items));\r\n    dispatch(setTotalUsersCountAC(data.totalCount));\r\n  },\r\n  getProfileTC = (id) => async (dispatch) => {\r\n    const data = await profileAPI.getProfile(id);\r\n    dispatch(setUserProfileAC(data));\r\n  },\r\n  getUserStatusTC = (id) => async (dispatch) => {\r\n    const data = await profileAPI.getStatus(id);\r\n    dispatch(setUserStatusAC(data));\t\r\n  },\r\n  updateUserStatusTC = (status) => async (dispatch) => {\r\n    const data = await profileAPI.updateStatus(status);\r\n    if (data.resultCode === 0) {\r\n      dispatch(setUserStatusAC(status));\r\n    }\r\n  },\r\n  getMeTC = () => async (dispatch) => {\r\n    const data = await authAPI.getMe();\r\n    if (data.resultCode === 0) {\r\n      const { id, email, login } = data.data;\r\n      dispatch(setUserData(id, email, login, true));\r\n    }\r\n  },\r\n  getCaptchaUrlTC = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    dispatch(getCaptchaAC(response));\r\n  },\r\n  loginTC = (email, password, rememberMe = false, antibot = null) => async (dispatch) => {\r\n    const data = await authAPI.logIn(email, password, rememberMe, antibot);\r\n    if (data.resultCode === 0) {\r\n      dispatch(getMeTC());\r\n    } else {\r\n      if (data.resultCode === 10) {\r\n        dispatch(getCaptchaUrlTC());\r\n      }\r\n\r\n      const message = (data.messages.length > 0) ? data.messages[0] : 'Something wrong',\r\n        action = stopSubmit('login', { _error: `${message}` });\r\n      dispatch(action);\r\n    }\r\n  },\r\n  logoutTC = () => async (dispatch) => {\r\n    const data = await authAPI.logOut();\r\n    if (data.data.resultCode === 0) {\r\n      dispatch(setUserData(null, null, null, false));\r\n    }\r\n  },\r\n  initializeAppTC = () => (dispatch) => {\r\n    let promiseGetMe = dispatch(getMeTC());\r\n    promiseGetMe.then(() => {\r\n      dispatch(initializedSuccess());\r\n    });\r\n    Promise.all([promiseGetMe]).then(() => {\r\n      dispatch(initializedSuccess());\r\n    });\r\n  // Если будет много dispatch\r\n  },\r\n  saveProfileInfoTC = (formData, isAuthUserId, deactivateMode) => async (dispatch) => {\r\n    const response = await profileAPI.saveProfile(formData);\r\n\t\r\n    if (response.resultCode === 0) {\r\n      await dispatch(getProfileTC(isAuthUserId));\r\n      deactivateMode();\r\n    }\r\n  },\r\n  savePhotoTC = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    // console.log(response)\r\n    if (response.resultCode === 0) {\r\n      dispatch(savePhotoAC(response.data.photos));\r\n    }\r\n  };\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__2OQGW\",\"appReference\":\"App_appReference__m_F0L\"};","module.exports = __webpack_public_path__ + \"static/media/message.bda0f5d5.svg\";","module.exports = __webpack_public_path__ + \"static/media/music.7925fc4b.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile.de2d9e02.svg\";","module.exports = __webpack_public_path__ + \"static/media/friends.d556ee07.svg\";"],"sourceRoot":""}