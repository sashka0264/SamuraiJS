{"version":3,"sources":["components/common/Paginator/Paginator.module.css","components/common/Paginator/img/leftArrow.png","components/common/Paginator/img/rightArrow.png","components/Users/Users/User/User.module.css","components/Users/Users/img/defaultAvatar.png","components/Users/Users/Users.module.css","components/common/Paginator/Paginator.tsx","components/Users/Users/User/User.jsx","components/Users/Users/Users.js","redux/selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","Paginator","totalUsersCount","setPagePeroid","pageSize","currentPage","onPageChanged","pagePeriod","pagesCount","Math","ceil","pages","startPage","usePage","i","push","className","style","appUsersTotal","appUsersPageList","alt","src","leftArrow","arrows","onClick","map","item","key","appUsersSelectedPage","appUsersPage","rightArrow","User","followingInProgress","unfollowTC","followTC","user","id","appUsersItem","appUsersItemPersonBlock","to","photos","small","defaultAvatar","appUsersItemImage","followed","disabled","some","appUsersItemAboutBlock","appUsersItemFullname","name","appUsersItemStatus","status","Users","users","appUsers","getUsers","state","global","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getLoading","loading","getFollowingInProgress","getIsAuth","auth","isAuth","getPagePeriod","UsersContainer","pageNumber","props","setCurrentPageAC","getUsersTC","setPagePeriodAC","this","Spinner","Component","compose","connect"],"mappings":"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","file":"static/js/6.3f77bacf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"appUsersTotal\":\"Paginator_appUsersTotal__1cSOm\",\"appUsersPageList\":\"Paginator_appUsersPageList__17uIe\",\"appUsersSelectedPage\":\"Paginator_appUsersSelectedPage__2VG01\",\"appUsersPage\":\"Paginator_appUsersPage__2A8Je\",\"arrows\":\"Paginator_arrows__30LJZ\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAxAKMTHMrFwlAAAAb0lEQVQ4y+3RMQ5AMABG4Yd7MBvKCSTcfxESWyeD0BGrGggDKV2IxD8232uaFMwTSAoCbk7QodFUODZco/CueUiz8pHss3yw5enb3KVeeU9iYsdppuv7ASKUzZP+5KEk3pL29IMNSXmPL4kkx98PZnMMcUMkj1tiAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTAzLTE2VDEwOjQ5OjQ5KzAwOjAwu+yw6wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wMy0xNlQxMDo0OTo0OSswMDowMMqxCFcAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAxAKMR3+dDDGAAAAZUlEQVQ4y+3MMRJAMBBA0Z91D05gFDruf4AURmM0ujAKBxBN0JFtjCJb7ez8t3BPjmWkIno6PJ45lggOryMNWyArdSK/Ie1FJuQ8ygMQTNh23X9HmfLP8oxFk4Oh1+QABZbhLT8A8z5wQGaxWiIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDMtMTZUMTA6NDk6MjkrMDA6MDB9g7lsAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAzLTE2VDEwOjQ5OjI5KzAwOjAwDN4B0AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appUsersItem\":\"User_appUsersItem__3B656\",\"appUsersItemPersonBlock\":\"User_appUsersItemPersonBlock__2EUyx\",\"appUsersItemImage\":\"User_appUsersItemImage__2bNjw\",\"appUsersItemAboutBlock\":\"User_appUsersItemAboutBlock__o0e8I\",\"appUsersItemFullname\":\"User_appUsersItemFullname__31hsP\",\"appUsersItemStatus\":\"User_appUsersItemStatus__3PJ6_\"};","module.exports = __webpack_public_path__ + \"static/media/defaultAvatar.9fca99c6.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appUsers\":\"Users_appUsers__1JoWN\"};","import React from 'react';\r\nimport style from './Paginator.module.css';\r\nimport leftArrow from './img/leftArrow.png';\r\nimport rightArrow from './img/rightArrow.png';\r\n\r\ntype PaginatorType = {\r\n  totalUsersCount: number; // всего пользователей\r\n  pageSize: number; // длина страницы\r\n  currentPage: number; // текущая страница\r\n  setPagePeroid: (usePage: number) => void,\r\n  pagePeriod: Record<string, number>,\r\n  onPageChanged(item: number): void;\r\n}\r\n\r\nconst Paginator = ({totalUsersCount, setPagePeroid, pageSize, currentPage, onPageChanged, pagePeriod}: PaginatorType) => {\r\n  const pagesCount: number = Math.ceil(totalUsersCount / pageSize), // кол-во страниц\r\n    pages: Array<number> = [],\r\n    startPage: number = pagePeriod.usePage === 1 ? 1 : (pagePeriod.usePage * 10) - 9;\r\n\t\t\t\r\n  for (let i = startPage; i < startPage + 10; i++) {\r\n    if (i > 0 && i <= pagesCount) pages.push(i);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={style.appUsersTotal}>Всего пользователей: <span>{totalUsersCount}</span></div>\r\n      <div className={style.appUsersPageList}>\r\n        {\r\n          startPage > 1 && <img \r\n            alt={'leftArrow'}\r\n            src={ leftArrow } \r\n            className={style.arrows}\r\n            onClick={() => {\r\n              setPagePeroid(pagePeriod.usePage - 1);\r\n            }}\r\n          /> \r\n        }\r\n        {\r\n          pages.map(item => <span \r\n            key={item}\r\n            className={currentPage === item ? style.appUsersSelectedPage : style.appUsersPage}\r\n            onClick={() => {\r\n              onPageChanged(item); \r\n            }}>\r\n            {item}\r\n          </span>)\r\n        }\r\n        {\r\n          (startPage + 10) < pagesCount && <img \r\n            alt={'rightArrow'}\r\n            src={ rightArrow } \r\n            className={style.arrows}\r\n            onClick={() => {\r\n              setPagePeroid(pagePeriod.usePage + 1);\r\n            }}\r\n          /> \r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Paginator;","/* eslint-disable react/prop-types */\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from \"./User.module.css\";\r\nimport defaultAvatar from \"../img/defaultAvatar.png\";\r\n\r\nconst User = ({followingInProgress, unfollowTC, followTC, user}) => {\r\n\treturn (\r\n    <div key={user.id} className={style.appUsersItem}>\r\n      <div className={style.appUsersItemPersonBlock}>\r\n        <NavLink to={\"/profile/\" + user.id}>\r\n          <img alt=\"avatar\" src={user.photos.small ? user.photos.small : defaultAvatar} \r\n            className={style.appUsersItemImage}\r\n          />\r\n        </NavLink>\r\n        <div>\r\n          {\r\n            user.followed ? \r\n            <button \r\n              disabled={followingInProgress.some(id => id === user.id)} \r\n              onClick={() => {unfollowTC(user.id);}\r\n              }>Отписаться</button> :\r\n\r\n            <button \r\n              disabled={followingInProgress.some(id => id === user.id)} \r\n              onClick={() => {followTC(user.id);}\r\n            }>Подписаться</button> \r\n          }\r\n        </div>\r\n      </div>\r\n\r\n      <div className={style.appUsersItemAboutBlock}>\r\n\r\n        <div>\r\n          <div className={style.appUsersItemFullname}>{user.name}</div>\r\n          <div className={style.appUsersItemStatus}>{user.status ? user.status : \"-\"}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;","/* eslint-disable react/prop-types */\r\nimport React from \"react\";\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\nimport style from \"./Users.module.css\";\r\n\r\nconst Users = ({totalUsersCount, setPagePeroid, pagePeriod, pageSize, currentPage, onPageChanged, users, followingInProgress, unfollowTC, followTC}) => {\r\n\treturn (\r\n\t\t<div className={style.appUsers}>\r\n\t\t\t<Paginator \r\n\t\t\t\tpagePeriod={pagePeriod}\r\n\t\t\t\ttotalUsersCount={totalUsersCount}\r\n\t\t\t\tpageSize={pageSize}\r\n\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\tonPageChanged={onPageChanged}\r\n\t\t\t\tsetPagePeroid={setPagePeroid}\r\n\t\t\t/>\r\n\t\t\t{\r\n\t\t\t\tusers.map((user) => <User \r\n\t\t\t\t\tuser={user} \r\n\t\t\t\t\tfollowingInProgress={followingInProgress}\r\n\t\t\t\t\tunfollowTC={unfollowTC}\r\n\t\t\t\t\tfollowTC={followTC}\r\n\t\t\t\t\tkey={user.id}\r\n\t\t\t\t/>)\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Users;","// import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n  return state.global.usersPage.users;\r\n},\r\ngetPageSize = (state) => {\r\n  return state.global.usersPage.pageSize;\r\n},\r\ngetTotalUsersCount = (state) => {\r\n  return state.global.usersPage.totalUsersCount;\r\n},\r\ngetCurrentPage = (state) => {\r\n  return state.global.usersPage.currentPage;\r\n},\r\ngetLoading = (state) => {\r\n  return state.global.usersPage.loading;\r\n},\r\ngetFollowingInProgress = (state) => {\r\n  return state.global.usersPage.followingInProgress;\r\n},\r\ngetIsAuth = (state) => {\r\n  return state.global.auth.isAuth;\r\n},\r\ngetPagePeriod = (state) => {\r\n  return state.global.usersPage.pagePeriod;\r\n};\r\n","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport Users from \"./Users/Users\";\r\nimport {getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getLoading, getFollowingInProgress, getIsAuth, getPagePeriod} from \"../../redux/selectors\";\r\nimport Spinner from \"../common/Spinner/Spinner\";\r\nimport {setCurrentPageAC, getUsersTC, unfollowTC, followTC, setPagePeriodAC} from \"../../redux/actions\";\r\n\r\nclass UsersContainer extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst {getUsersTC, currentPage, pageSize} = this.props;\r\n\t\tthis.onPageChanged(1);\r\n\t\tthis.setPagePeroid(1);\r\n\t\tgetUsersTC(currentPage, pageSize);\r\n\t}\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tconst {setCurrentPageAC, getUsersTC, pageSize} = this.props;\r\n\t\tsetCurrentPageAC(pageNumber);\r\n\t\tgetUsersTC(pageNumber, pageSize);\r\n\t}\r\n\r\n\tsetPagePeroid = (usePage) => {\r\n\t\tconst { setPagePeriodAC } = this.props;\r\n\t\tsetPagePeriodAC(usePage);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttotalUsersCount, \r\n\t\t\tpagePeriod, \r\n\t\t\tpageSize, \r\n\t\t\tcurrentPage, \r\n\t\t\tusers, \r\n\t\t\tfollowingInProgress, \r\n\t\t\tunfollowTC, \r\n\t\t\tfollowTC, \r\n\t\t\tloading\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{loading ? \r\n\t\t\t\t\t<Spinner/> : \r\n\t\t\t\t\t<Users \r\n\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\ttotalUsersCount={totalUsersCount}\r\n\t\t\t\t\t\tonPageChanged={this.onPageChanged}\t\t\t\t\t\r\n\t\t\t\t\t\tpageSize={pageSize}\r\n\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\tfollowingInProgress={followingInProgress}\r\n\t\t\t\t\t\tunfollowTC={unfollowTC}\r\n\t\t\t\t\t\tfollowTC={followTC}\r\n\t\t\t\t\t\tpagePeriod={pagePeriod}\r\n\t\t\t\t\t\tsetPagePeroid={this.setPagePeroid}\r\n\t\t\t\t\t/>\r\n\t\t\t\t} \r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: getUsers(state), \r\n\tpageSize: getPageSize(state),\r\n\ttotalUsersCount: getTotalUsersCount(state),\r\n\tcurrentPage: getCurrentPage(state),\r\n\tloading: getLoading(state),\r\n\tfollowingInProgress: getFollowingInProgress(state),\r\n\tisAuth: getIsAuth(state),\r\n\tpagePeriod: getPagePeriod(state)\r\n});\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {setCurrentPageAC, getUsersTC, unfollowTC, setPagePeriodAC, followTC})\r\n)(UsersContainer);"],"sourceRoot":""}